<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kintsugi AI - 為全球化團隊打造的AI領導力副駕</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #111827; /* 深灰藍基底 */
            color: #E5E7EB;
        }
        .text-accent-blue { color: #38BDF8; } /* 明亮藍 */
        .text-accent-gold { color: #FBBF24; } /* 洞察金 */
        .bg-accent-blue { background-color: #38BDF8; }
        .bg-accent-gold { background-color: #FBBF24; }
        .border-accent-blue { border-color: #38BDF8; }
        .gradient-text {
            background: linear-gradient(90deg, #38BDF8, #FBBF24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .section-title {
            @apply text-3xl md:text-4xl font-bold text-center mb-4 text-white;
        }
        .section-subtitle {
            @apply text-lg md:text-xl text-center text-gray-300 max-w-3xl mx-auto mb-12;
        }
        .card {
            @apply bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-xl p-6 transition-all duration-300 hover:border-accent-blue hover:shadow-2xl hover:shadow-blue-500/10;
        }
        .tab-button {
            @apply px-4 md:px-6 py-3 text-base md:text-lg font-medium rounded-t-lg border-b-2 transition-colors duration-300;
        }
        .tab-button.active {
            @apply border-accent-blue text-accent-blue bg-gray-800/60;
        }
        .tab-button:not(.active) {
            @apply border-transparent text-gray-400 hover:text-white;
        }
        .flywheel-container {
            width: clamp(300px, 90vw, 400px);
            height: clamp(300px, 90vw, 400px);
        }
        .flywheel-item {
            --radius: calc(clamp(150px, 45vw, 200px));
            --item-size: clamp(100px, 25vw, 128px);
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            width: var(--item-size);
            height: var(--item-size);
            border-radius: 9999px;
            background-color: #1f2937;
            border: 1px solid #374151;
            text-align: center;
            font-size: 0.875rem;
            padding: 0.5rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            top: 50%;
            left: 50%;
            margin: calc(var(--item-size) / -2);
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-50 bg-gray-900/50 backdrop-blur-lg border-b border-gray-800">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-white">Kintsugi AI</h1>
            <nav id="nav-menu" class="hidden md:flex md:items-center md:space-x-8 absolute md:relative top-full left-0 w-full md:w-auto bg-gray-900 md:bg-transparent p-6 md:p-0">
                <a href="#problem" class="block md:inline-block text-gray-300 hover:text-accent-blue transition py-2 md:py-0">核心問題</a>
                <a href="#solution" class="block md:inline-block text-gray-300 hover:text-accent-blue transition py-2 md:py-0">解決方案</a>
                <a href="#product" class="block md:inline-block text-gray-300 hover:text-accent-blue transition py-2 md:py-0">產品展示</a>
                <a href="#why-us" class="block md:inline-block text-gray-300 hover:text-accent-blue transition py-2 md:py-0">為何是我們</a>
            </nav>
            <div class="flex items-center">
                <a href="#contact" class="hidden sm:inline-block bg-accent-blue text-white font-bold py-2 px-5 rounded-lg hover:opacity-90 transition">預約演示</a>
                <button id="hamburger-button" class="md:hidden ml-4 text-white">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-20">
        <!-- Hero Section -->
        <section id="hero" class="relative min-h-screen flex items-center justify-center text-center overflow-hidden">
            <div id="hero-bg" class="absolute inset-0 z-0 opacity-20"></div>
            <div class="container mx-auto px-6 z-10">
                <h1 class="text-5xl md:text-7xl font-black text-white leading-tight">
                    Kintsugi AI
                </h1>
                <p class="mt-4 text-xl md:text-2xl text-gray-200">AI Leadership Co-pilot for Global Teams</p>
                <p class="mt-8 text-3xl md:text-4xl font-bold gradient-text">
                    Stop Monitoring. Start Enabling.
                </p>
                <p class="mt-2 text-xl md:text-2xl text-gray-200">(別再監測了，開始賦能吧)</p>
                <div class="mt-12">
                    <a href="#contact" class="bg-accent-blue text-white text-lg font-bold py-4 px-8 rounded-lg hover:opacity-90 transition-transform duration-300 inline-block transform hover:scale-105">
                        探索領導力的未來
                    </a>
                </div>
            </div>
        </section>

        <!-- Problem Section -->
        <section id="problem" class="py-20 md:py-32 bg-gray-900">
            <div class="container mx-auto px-6">
                <div class="text-center">
                    <h2 class="section-title !mb-4">領導力的「文化時差」<br class="sm:hidden"/>正在耗盡企業的競爭力</h2>
                    <div class="flex justify-center"><div class="w-24 h-1 bg-accent-blue rounded-full"></div></div>
                    <p class="section-subtitle !mt-6">全球化團隊的領導者正面臨前所未有的挑戰，而現有工具遠遠不足以應對。</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                    <!-- Card 1 -->
                    <div class="card text-center">
                        <i data-lucide="coins" class="w-16 h-16 mx-auto text-accent-gold"></i>
                        <h3 class="text-4xl font-bold mt-4 text-white">$2M / 年</h3>
                        <p class="mt-2 text-gray-300">一家500人規模的公司，因跨文化溝通不良與人才流失，每年平均損失超過200萬美元。</p>
                    </div>
                     <!-- Card 2 -->
                    <div class="card text-center">
                        <i data-lucide="person-standing" class="w-16 h-16 mx-auto text-accent-gold"></i>
                        <h3 class="text-4xl font-bold mt-4 text-white">90%</h3>
                        <p class="mt-2 text-gray-300">絕大多數管理者承認，在領導多元文化團隊時，他們只能憑直覺摸索，缺乏有效工具。</p>
                    </div>
                     <!-- Card 3 -->
                    <div class="card text-center">
                        <i data-lucide="gauge-circle" class="w-16 h-16 mx-auto text-accent-gold"></i>
                        <h3 class="text-4xl font-bold mt-4 text-white">被動的工具</h3>
                        <p class="mt-2 text-gray-300">現有的HR儀表板資訊滯後、使用率低，無法解決即時、複雜的管理挑戰。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Paradigm Shift Section -->
        <section id="solution" class="py-20 md:py-32">
            <div class="container mx-auto px-6">
                <div class="text-center">
                    <h2 class="section-title !mb-4">告別儀表板，擁抱AI副駕</h2>
                    <div class="flex justify-center"><div class="w-24 h-1 bg-accent-blue rounded-full"></div></div>
                    <p class="section-subtitle !mt-6">我們正處於一場領導力工具的典範轉移之中，從被動監控轉向主動賦能。</p>
                </div>
                <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8 items-stretch">
                     <!-- Old Way -->
                    <div class="card p-8 border-red-500/30 hover:border-red-500/50 flex flex-col">
                        <h3 class="text-2xl font-bold text-red-400 text-center">舊方式: 儀表板</h3>
                        <ul class="mt-6 space-y-4 flex-grow">
                            <li class="flex items-start"><i data-lucide="x-circle" class="w-6 h-6 text-red-400 mr-3 mt-1 flex-shrink-0"></i><span><strong class="text-white">被動拉取資訊：</strong>管理者需自行登入、花時間解讀複雜圖表。</span></li>
                            <li class="flex items-start"><i data-lucide="x-circle" class="w-6 h-6 text-red-400 mr-3 mt-1 flex-shrink-0"></i><span><strong class="text-white">增加工作負擔：</strong>在既有工作外，增加新的監控任務與學習成本。</span></li>
                            <li class="flex items-start"><i data-lucide="x-circle" class="w-6 h-6 text-red-400 mr-3 mt-1 flex-shrink-0"></i><span><strong class="text-white">提供滯後數據：</strong>基於過去的問卷或季度報告，無法應對當下挑戰。</span></li>
                        </ul>
                    </div>
                     <!-- New Paradigm -->
                    <div class="card p-8 border-accent-blue/50 flex flex-col">
                        <h3 class="text-2xl font-bold text-accent-blue text-center">新典範: Kintsugi AI 副駕</h3>
                        <ul class="mt-6 space-y-4 flex-grow">
                            <li class="flex items-start"><i data-lucide="check-circle-2" class="w-6 h-6 text-accent-blue mr-3 mt-1 flex-shrink-0"></i><span><strong class="text-white">主動推送洞察：</strong>在最需要的時刻，將可行建議送到管理者面前。</span></li>
                            <li class="flex items-start"><i data-lucide="check-circle-2" class="w-6 h-6 text-accent-blue mr-3 mt-1 flex-shrink-0"></i><span><strong class="text-white">融入既有工作流：</strong>無縫整合於 Slack, Teams, Email，無需改變習慣。</span></li>
                            <li class="flex items-start"><i data-lucide="check-circle-2" class="w-6 h-6 text-accent-blue mr-3 mt-1 flex-shrink-0"></i><span><strong class="text-white">提供即時建議：</strong>基於當下的互動，提供具文化敏感度的前瞻性建議。</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Product Section -->
        <section id="product" class="py-20 md:py-32 bg-gray-900">
            <div class="container mx-auto px-6">
                <div class="text-center">
                    <h2 class="section-title !mb-4">一個平台，三大支柱</h2>
                    <div class="flex justify-center"><div class="w-24 h-1 bg-accent-blue rounded-full"></div></div>
                    <p class="section-subtitle !mt-6">Kintsugi AI 為組織中的管理者、員工與決策者提供全方位的支持。</p>
                </div>
                
                <div class="w-full max-w-5xl mx-auto">
                    <div class="flex justify-center border-b border-gray-700 mb-8">
                        <button class="tab-button active" data-tab="manager">管理者AI副駕</button>
                        <button class="tab-button" data-tab="employee">員工保密夥伴</button>
                        <button class="tab-button" data-tab="org">組織智慧引擎</button>
                    </div>

                    <!-- Tab Content: Manager -->
                    <div id="manager" class="tab-content">
                        <div class="grid md:grid-cols-2 gap-8 items-center">
                            <div class="prose prose-invert max-w-none text-gray-300">
                                <h3 class="text-2xl font-bold text-white">Co-pilot for Managers</h3>
                                <p class="text-lg text-accent-blue">讓每一次互動都更有效</p>
                                <p>我們將AI教練無縫嵌入您的日常工作流程。不再需要切換應用程式，在您最熟悉的工具中，就能獲得即時、私密的領導力指導。</p>
                                <ul>
                                    <li><strong>會議前：</strong>收到「跨文化溝通速讀卡」，提醒您與不同文化背景團隊溝通時的潛在盲點與最佳實踐。</li>
                                    <li><strong>會議後：</strong>獲得AI生成的私密「團隊動力」覆盤報告，客觀分析發言比例、互動模式，並提供具體改善建議。</li>
                                </ul>
                            </div>
                            <div class="card p-0 overflow-hidden bg-gray-800">
                                <div class="p-4 bg-gray-700 text-white font-medium">Microsoft Teams</div>
                                <div class="flex h-80">
                                    <div class="w-1/4 bg-gray-700/50 p-4 space-y-2"><div class="w-full h-4 bg-gray-600 rounded"></div><div class="w-3/4 h-4 bg-gray-600 rounded"></div><div class="w-full h-4 bg-blue-500/30 rounded"></div><div class="w-1/2 h-4 bg-gray-600 rounded"></div></div>
                                    <div class="w-3/4 p-4 relative flex flex-col justify-end">
                                        <div class="space-y-2"><div class="w-3/4 h-5 bg-gray-600 rounded"></div><div class="w-full h-5 bg-gray-600 rounded"></div><div class="w-1/2 h-5 bg-gray-600 rounded"></div></div>
                                        <div id="ai-insight-card" class="absolute right-4 bottom-4 w-3/4 max-w-xs card bg-gray-900 border-accent-gold shadow-2xl shadow-yellow-500/20 transform translate-x-full transition-transform duration-500 ease-out">
                                            <h4 class="text-sm font-bold text-accent-gold flex items-center"><i data-lucide="sparkles" class="w-4 h-4 mr-2"></i>Leadership Insight</h4>
                                            <p class="text-xs text-white mt-2">提醒：與日本團隊會議，請多給予團隊內部討論的沉默時間，避免直接點名，以示尊重。</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content: Employee -->
                    <div id="employee" class="tab-content hidden">
                         <div class="grid md:grid-cols-2 gap-8 items-center">
                            <div class="prose prose-invert max-w-none text-gray-300">
                                <h3 class="text-2xl font-bold text-white">Confidential Growth Companion</h3>
                                <p class="text-lg text-accent-blue">員工可以100%信任的私人AI空間</p>
                                <p>真正的成長源於心理安全感。我們為每位員工提供一個完全保密的個人AI夥伴，讓他們在無壓力的環境中提升職場技能。</p>
                                <ul>
                                    <li><strong>AI溝通模擬器：</strong>安全地演練請求加薪、向上管理、或處理同事衝突等高壓對話場景。</li>
                                    <li><strong>跨文化適應支持：</strong>為外派與新員工提供7x24的文化顧問與即時的適應建議。</li>
                                </ul>
                                <div class="mt-6 p-4 border-l-4 border-accent-gold bg-yellow-400/10 text-yellow-300 rounded-r-lg">
                                    <h4 class="font-bold flex items-center"><i data-lucide="shield-check" class="w-5 h-5 mr-2"></i>我們的核心承諾</h4>
                                    <p>所有個人互動數據均採端對端加密，其分析結果**絕不**與雇主分享。</p>
                                </div>
                            </div>
                            <div class="flex justify-center items-center h-80"><i data-lucide="shield-check" class="w-48 h-48 md:w-64 md:h-64 text-accent-blue opacity-50"></i></div>
                        </div>
                    </div>

                    <!-- Tab Content: Organization -->
                    <div id="org" class="tab-content hidden">
                         <div class="grid md:grid-cols-2 gap-8 items-center">
                            <div class="prose prose-invert max-w-none text-gray-300">
                                <h3 class="text-2xl font-bold text-white">Organizational Intelligence Engine</h3>
                                <p class="text-lg text-accent-blue">用網絡科學看見組織的真實生命力</p>
                                <p>超越傳統的層級圖，我們將匿名的互動元數據轉化為組織層級的宏觀洞察，幫助高階主管做出更具戰略性的數據驅動決策。</p>
                                <ul>
                                    <li><strong>洞察包容性：</strong>視覺化追蹤新員工是否被核心溝通網絡有效接納。</li>
                                    <li><strong>發現創新節點：</strong>識別出那些連結不同團隊、促進知識流動的關鍵影響者。</li>
                                    <li><strong>預警組織風險：</strong>找出潛在的溝通孤島與互動模式呈現倦怠跡象的團隊。</li>
                                </ul>
                            </div>
                            <div class="card h-96 w-full p-2" id="ona-graph-container"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Why Us Section -->
        <section id="why-us" class="py-20 md:py-32">
            <div class="container mx-auto px-6">
                <div class="text-center">
                    <h2 class="section-title !mb-4">獨特的競爭優勢</h2>
                    <div class="flex justify-center"><div class="w-24 h-1 bg-accent-blue rounded-full"></div></div>
                    <p class="section-subtitle !mt-6">我們的價值不僅在於技術，更在於前瞻的產品哲學、獨家的數據壁壘與堅實的倫理框架。</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                    <!-- Pillar 1 -->
                    <div class="card p-8"><i data-lucide="rocket" class="w-12 h-12 text-accent-blue mb-4"></i><h3 class="text-xl font-bold text-white">典範轉移的產品</h3><p class="mt-2 text-gray-300">我們率先以「AI副駕」取代傳統的「HR儀表板」，專注於賦能而非監控，致力於定義一個全新的品類。</p></div>
                    <!-- Pillar 2 -->
                    <div class="card p-8"><i data-lucide="database-zap" class="w-12 h-12 text-accent-blue mb-4"></i><h3 class="text-xl font-bold text-white">專有的數據壁壘</h3><p class="mt-2 text-gray-300">我們的AI模型基於獨家擁有的、真實管理情境下的「領導力行為」數據集進行訓練，而非僅依賴通用語言模型。</p></div>
                    <!-- Pillar 3 -->
                    <div class="card p-8"><i data-lucide="shield-half" class="w-12 h-12 text-accent-blue mb-4"></i><h3 class="text-xl font-bold text-white">世界級的倫理框架</h3><p class="mt-2 text-gray-300">我們將「隱私 by Design」作為產品開發的絕對核心，由首席倫理官領導，這是我們贏得信任的根本。</p></div>
                </div>
            </div>
        </section>

        <!-- Business Model Section -->
        <section class="py-20 md:py-32 bg-gray-900">
            <div class="container mx-auto px-6">
                <div class="text-center">
                    <h2 class="section-title !mb-4">可持續的增長飛輪</h2>
                    <div class="flex justify-center"><div class="w-24 h-1 bg-accent-blue rounded-full"></div></div>
                    <p class="section-subtitle !mt-6">我們的商業模式旨在創造一個正向循環，隨著客戶的成功而增長，建立長期的合作夥伴關係。</p>
                </div>
                 <div class="relative flywheel-container mx-auto hidden md:block">
                     <div class="absolute inset-0 border-2 border-dashed border-gray-600 rounded-full animate-spin" style="animation-duration: 20s;"></div>
                     <div class="flywheel-item" style="transform: rotate(0deg) translate(var(--radius)) rotate(0deg);">更多管理者使用</div>
                     <div class="flywheel-item" style="transform: rotate(72deg) translate(var(--radius)) rotate(-72deg);">產生獨家情境數據</div>
                     <div class="flywheel-item" style="transform: rotate(144deg) translate(var(--radius)) rotate(-144deg);">AI模型更智慧</div>
                     <div class="flywheel-item" style="transform: rotate(216deg) translate(var(--radius)) rotate(-216deg);">創造更高客戶價值</div>
                     <div class="flywheel-item" style="transform: rotate(288deg) translate(var(--radius)) rotate(-288deg);">吸引更多客戶</div>
                     <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"><i data-lucide="recycle" class="w-24 h-24 text-accent-blue"></i></div>
                 </div>
                 <div class="md:hidden space-y-4 text-center">
                    <p class="font-bold">1. 更多管理者使用</p><p>↓</p><p class="font-bold">2. 產生獨家情境數據</p><p>↓</p><p class="font-bold">3. AI模型更智慧</p><p>↓</p><p class="font-bold">4. 創造更高客戶價值</p><p>↓</p><p class="font-bold">5. 吸引更多客戶</p>
                 </div>
            </div>
        </section>
        
        <!-- Contact Section -->
        <section id="contact" class="py-20 md:py-32">
            <div class="container mx-auto px-6 max-w-3xl">
                <div class="text-center">
                    <h2 class="section-title !mb-4">共同投資領導力的未來</h2>
                    <div class="flex justify-center"><div class="w-24 h-1 bg-accent-blue rounded-full"></div></div>
                    <p class="section-subtitle !mt-6">我們正在尋求志同道合的夥伴，一同重新定義21世紀的數位領導力。如果您對我們的願景感興趣，歡迎與我們聯繫。</p>
                </div>
                <div class="card max-w-lg mx-auto mt-8">
                     <p class="text-gray-300 text-center">我們目前正在進行種子輪募資，目標 **200萬美元**。</p>
                    <form class="mt-6 space-y-4">
                        <input type="text" placeholder="您的姓名" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 focus:ring-2 focus:ring-accent-blue focus:outline-none transition">
                        <input type="email" placeholder="您的電子郵件" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 focus:ring-2 focus:ring-accent-blue focus:outline-none transition">
                        <textarea placeholder="您感興趣的部份..." rows="4" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 focus:ring-2 focus:ring-accent-blue focus:outline-none transition"></textarea>
                        <button type="submit" class="w-full bg-accent-blue text-white font-bold py-3 px-6 rounded-lg hover:opacity-90 transition">發送訊息</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-800">
        <div class="container mx-auto px-6 py-8 text-center text-gray-400">
            <p>&copy; 2024 Kintsugi AI. All Rights Reserved.</p>
            <p class="text-sm mt-2">這是一個基於商業計畫書的概念網站。</p>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // --- Mobile Menu ---
        const hamburgerButton = document.getElementById('hamburger-button');
        const navMenu = document.getElementById('nav-menu');
        hamburgerButton.addEventListener('click', () => {
            navMenu.classList.toggle('hidden');
        });
        // Close menu when a link is clicked
        navMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                if (!navMenu.classList.contains('md:flex')) {
                    navMenu.classList.add('hidden');
                }
            })
        });

        // --- Hero Background Animation ---
        const heroBg = document.getElementById('hero-bg');
        if (heroBg) {
            const numNodes = 50;
            const nodes = Array.from({ length: numNodes }, () => ({
                x: Math.random(), y: Math.random(),
                vx: (Math.random() - 0.5) * 0.00002, vy: (Math.random() - 0.5) * 0.00002,
                el: document.createElement('div')
            }));

            nodes.forEach(node => {
                Object.assign(node.el.style, { position: 'absolute', width: '3px', height: '3px', backgroundColor: '#38BDF8', borderRadius: '50%' });
                heroBg.appendChild(node.el);
            });

            const svg = d3.select(heroBg).append('svg').style('position', 'absolute').style('width', '100%').style('height', '100%');
            const links = svg.append('g');

            let frameId;
            function updateAnimation() {
                const { clientWidth: w, clientHeight: h } = heroBg;
                nodes.forEach(node => {
                    node.x += node.vx * w; node.y += node.vy * h;
                    if (node.x < 0 || node.x > 1) node.vx *= -1;
                    if (node.y < 0 || node.y > 1) node.vy *= -1;
                    node.el.style.left = `${node.x * 100}%`; node.el.style.top = `${node.y * 100}%`;
                });
                
                links.selectAll('*').remove();
                for (let i = 0; i < numNodes; i++) {
                    for (let j = i + 1; j < numNodes; j++) {
                        const dist = Math.hypot(nodes[i].x - nodes[j].x, nodes[i].y - nodes[j].y);
                        if (dist < 0.2) {
                            links.append('line')
                                .attr('x1', nodes[i].x * w).attr('y1', nodes[i].y * h)
                                .attr('x2', nodes[j].x * w).attr('y2', nodes[j].y * h)
                                .attr('stroke', '#38BDF8').attr('stroke-opacity', 1 - dist / 0.2);
                        }
                    }
                }
                frameId = requestAnimationFrame(updateAnimation);
            }
            updateAnimation();
        }

        // --- Tabs Functionality ---
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.dataset.tab;
                tabButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                tabContents.forEach(content => {
                    content.classList.toggle('hidden', content.id !== tabId);
                });
                if (tabId === 'org') {
                    // Timeout to allow container to become visible before measuring
                    setTimeout(renderOnaGraph, 0);
                }
            });
        });
        
        // --- AI Insight Card Animation ---
        const insightCard = document.getElementById('ai-insight-card');
        if(insightCard) {
            const productSection = document.getElementById('product');
            const observer = new IntersectionObserver((entries) => {
                if (entries[0].isIntersecting) {
                    setTimeout(() => { insightCard.style.transform = 'translateX(0)'; }, 500);
                }
            }, { threshold: 0.5 });
            observer.observe(productSection);
        }

        // --- ONA Graph Rendering (D3.js) ---
        const onaContainer = document.getElementById('ona-graph-container');
        function renderOnaGraph() {
            if (!onaContainer) return;

            // Clear previous graph
            d3.select(onaContainer).selectAll("*").remove();

            const width = onaContainer.clientWidth;
            const height = onaContainer.clientHeight;
            if (width === 0 || height === 0) return; // Don't render if container is not visible

            const svg = d3.select(onaContainer).append("svg").attr("width", width).attr("height", height);
            const numNodes = 40;
            const nodes = d3.range(numNodes).map(i => ({ id: i, r: Math.random() * 8 + 4 }));
            const links = d3.range(numNodes * 1.5).map(() => ({ source: Math.floor(Math.random() * numNodes), target: Math.floor(Math.random() * numNodes) }));

            const simulation = d3.forceSimulation(nodes)
                .force("link", d3.forceLink(links).id(d => d.id).distance(50))
                .force("charge", d3.forceManyBody().strength(-100))
                .force("center", d3.forceCenter(width / 2, height / 2));

            const link = svg.append("g").attr("stroke", "#999").attr("stroke-opacity", 0.6).selectAll("line").data(links).join("line");
            const node = svg.append("g").selectAll("circle").data(nodes).join("circle")
                .attr("r", d => d.r)
                .attr("fill", d => (d.id === 5 ? '#FBBF24' : (d.id === 25 ? '#F87171' : '#38BDF8')))
                .call(drag(simulation));

            simulation.on("tick", () => {
                link.attr("x1", d => d.source.x).attr("y1", d => d.source.y).attr("x2", d => d.target.x).attr("y2", d => d.target.y);
                node.attr("cx", d => d.x).attr("cy", d => d.y);
            });
            
            function drag(simulation) {
              function dragstarted(event) { if (!event.active) simulation.alphaTarget(0.3).restart(); event.subject.fx = event.subject.x; event.subject.fy = event.subject.y; }
              function dragged(event) { event.subject.fx = event.x; event.subject.fy = event.y; }
              function dragended(event) { if (!event.active) simulation.alphaTarget(0); event.subject.fx = null; event.subject.fy = null; }
              return d3.drag().on("start", dragstarted).on("drag", dragged).on("end", dragended);
            }
        }
        
        // --- Debounced Resize Handler for ONA Graph ---
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        const debouncedRender = debounce(renderOnaGraph, 250);
        window.addEventListener('resize', () => {
            // Re-render only if the ONA tab is active
            if (document.getElementById('org') && !document.getElementById('org').classList.contains('hidden')) {
                debouncedRender();
            }
        });

    </script>
</body>
</html>
